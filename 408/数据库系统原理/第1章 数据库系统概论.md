## 1.1 数据库基本概念

1. 数据（Data）

   - 概念：数据是描述事物的`符号记录`，是指用物理符号记录下来的、可以鉴别的信息。
   - 可以是包括数字、字母、文字、特殊字符组成的文本数据，也可以是图形、图像、动画、影像、声音、语言等多媒体数据。

2. 数据库（DataBase, DB）

   - 概念：通俗地被称为`存储数据的仓库`，是指长期存在计算机中的`有组织的、可共享的数据集合`。且数据库中数据按一定的数据模型组织、描述和存储，具有较小的冗余度、较高的数据独立性，系统易于扩展，并可以被多个用户共享。
   - 数据库中存储的数据具有`永久存储`、`有组织`和`可共享`三个基本特点。

3. 数据库管理系统（DataBase Management System, DBMS）

   - 概念：是指专门用于建立和管理数据库的一套软件，`介于应用程序和操作系统之间`。
   - 主要功能：
     - 1）数据定义
     - 2）数据操纵
     - 3）数据库的运行管理
     - 4）数据库的建立和维护
     - 5）数据组织、存储和管理

4. 数据库系统（DataBase System, DBS）

   - 概念：是指计算机中引入数据库技术之后的系统。
   - 组成：通常一个完整的数据库系统包括`数据库、数据库管理系统及相关实用工具、应用程序、数据库管理员（Database Administraor, DBA）和用户`

5. 数据库管理员和用户

   - 数据库管理员（Database Administraor, DBA）专门负责对数据库进行维护，并保证数据库正常、高效运行的人员。
   - 用户是数据系统的服务对象，通常包括程序员和数据库终端用户。

## 1.2 数据管理技术的发展

1.  数据管理的任务

    - 数据管理的`任务`是进行数据的`收集、组织、控制、存储、选取、维护`，实现在适当的时刻、以适当的形式、给适当的人、提供适当的数据，它是数据处理的中心问题，而数据处理则是对各种数据进行收集、存储、加工和传播的一系列活动的总和。

2.  数据管理技术经历的三个阶段

    - 1）人工管理阶段（20 世纪 50 年代中期以前）

      - 特点：1）数据不保存；2）应用程序管理数据；3）数据面向应用

    - 2）文件系统阶段（20 世纪 50 年代后期到 60 年代中期）

      - 文件系统是将数据的逻辑结构和物理结构分离，由“存放方法”实现逻辑结构与物理结构之间的映射。
      - 特点：
        - 1）数据可以长期保存和专门管理
        - 2）提供了物理数据独立性，使应用程序与数据的具体物理存储结构分离
        - 3）不能实现数据的普通共享，只能实现文件级的共享，而不能在记录或数据项级实现数据的共享；依然存在大量的数据冗余。

    - 3）数据库系统阶段（20 世纪 60 年代后期以来）

      - 特点：
        - 1）`数据集成`：数据库管理系统的主要目的。
        - 2）`数据共享性高`：一个数据可以为多个不同用户共同使用，也可以并发共享。
        - 3）`数据冗余小`：每个数据项可以只存储一次，节约存储空间，避免数据的重复存储。同时冗余是受控的。
        - 4）`数据一致性`：通过消除或控制数据冗余，可以在一定范围内避免数据的不一致性。冗余是受控的，发生更新时，数据库系统本身可以通过更新所有副本来保持一致性。
        - 5）`数据独立性高`：数据定义与使用数据的应用程序分离称为数据独立。数据库系统提供了两层数据独立。
          - 数据的逻辑独立：不同的应用程序（用户）对同样的数据可以使用不同的视图；
          - 数据的物理独立：可改变数据的存储结构或存取方法以响应变化的需求而无须修改现有的应用程序。
        - 6）`实施统一管理与控制`：数据库管理系统具有对数据的统一管理和控制功能，主要包括：数据的安全性；数据的完整性；并发控制；故障恢复；
        - 7）`减少应用程序开发与维护的工作量`：由于数据库中的数据具有共享性、独立性，使得应用程序的编程人员不再需要承担基本数据文件的设计、建造与维护等繁重负担，因而开发代价和时间大大减少。

## 1.3 数据库系统的结构

1. 数据库系统的结构

   - 从 DBA 的角度看数据库系统可分为内部系统结构和外部体系结构。其中内部系统结构采用三级模式结构，而外部体系结构通常表现为集中式结构、分布式结构和并行结构等。
   - 从数据库应用的用户（如应用程序的编写人员）的角度看数据库系统可分为客户/服务器结构、浏览器/服务器结构，这也是数据库系统整体的运行与应用结构。

2. 数据库系统的三级模式结构

   - 从数据库管理员的角度，其内部遵循美国 ANSI/SPARC 数据库系统研究组提出的三级体系结构，即用户级、概念级和物理级。
   - 数据库采用三级模式，并提供两层映像功能。数据库的三级模式有`外模式`、`模式`、`内模式`。
     - [数据库三级模式：外模式、模式和内模式](https://blog.csdn.net/VariatioZbw/article/details/106928986)

3. 模式

   - 模式，也成为`概念模式`或`逻辑模式`，它是数据库中**全体数据**的逻辑结构和特征的描述，是所有用户的公共数据视图。
   - 模式实际上是数据库数据在逻辑级上的视图，即概念视图，其形式要比数据的物理存储方式抽象`（模式只能有一个）`。既不涉及数据的物理存储细节和硬件环境，也与具体的应用程序、所使用的应用开发工具及程序设计语言无关，同时一个数据库只有一个模式。
   - DBMS 提供模式描述语言来定义模式。

4. 外模式

   - 外模式也称为`子模式`或`用户模式`，它是数据库用户（包括应用程序员和最终用户）能看见和使用的局部数据的逻辑结构和特征的描述，是与某一应用有关的数据的逻辑表示。
   - 模式的子集，对数据库整体数据结构的局部重构`（外模式可以有多个）`。
   - DBMS 提供子模式描述语言来定义子模式。

5. 内模式

   - 内模式，也称为`存储模式`，它是对数据库中数据物理结构和存储方式的描述，是数据在数据库内部的表示形式`（内模式只能有一个）`。
   - 内模式实际上是整个数据库的最底层表示，它不同于物理层，是数据库管理员所见到的，特定的 DBMS 所处理的数据库的内部结构，即内部视图或存储视图。
   - 一个数据库只能有一个内模式，它不是存储设备上的物理记录或物理块，也不涉及任何具体设备限制，也就是说内模式还不是最底层的物理层。因为比内模式更接近于物理存储和访问的那些软件机制是操作系统的一部分，比如从磁盘上对数据进行读、写操作。
   - DBMS 提供内模式语言来定义内模式

6. 映像

   - 映像是一种对应规则，它指出映像双方是如何进行转换的。
   - [数据库的三级模式与二级映像](https://cloud.tencent.com/developer/article/1815235)

7. 数据库系统的运行与应用结构
   - 1.客户/服务器（C/S）结构
   - 2.浏览器/服务器（B/S）结构

## 1.4 数据模型

1. 模型

   - 模型是现实世界特征的模拟和抽象表达，有助于人们更好地认识和理解客观世界中的事物、对象、过程等感兴趣的内容。
   - 为能表示和处理现实世界中的数据和信息，我们常用`数据模型`这个工具来模拟和抽象现实世界中的数据特征。是现实世界数据特征的抽象，描述数据的共性内容。
   - 数据库模型是模型化数据和信息的工具，也是数据库系统的核心和基础。
     - 1）概念层数据模型
     - 2）逻辑层数据模型和物理层数据模型

2. 数据模型三要素

   - 数据结构
   - 数据操作
   - 数据约束

3. 概念层数据模型及基本概念

   - 概念模型用于信息世界的建模，是实现世界到信息世界的第一层抽象。
   - `实体`：客观存在并且可相互区别的事物。
   - `属性`：实体所具有的某种特性。一个实体可由多个属性来描述。
   - `码或键`：可`唯一`标识实体的属性集。
   - `域`：属性的取值范围
   - `实体型`：用实体名与属性名集合来抽象和刻画同类实体。
   - `实体集`：同型实体的集合。
   - `联系`：现实世界中事物内部以及事物之间的联系在信息世界中反映为实体内部的联系和实体之间的联系。实体内部的联系通常是指实体各属性之间的联系。

4. 概念模型的表示方法——ER 图

   - 最为常用的是 1976 年提出的实体——联系方法，用 ER 图来描述现实世界的概念模式，提供了表示信息世界中实体、属性和联系的方法。
   - 1）实体型之间联系

     - 一对一联系（1：1）对于实体集 A 中每一个实体，实体集 B 中至多有一个实体与之联系，反之亦然。
     - 一对多联系（1：n）对于实体集 A 中每一个实体，实体集 B 中有 n 个实体（n>=0）与之联系，反之，对于实体集 B 中每一个实体，实体集 A 中至多有一个实体与之联系。
     - 多对多联系（m：n）对于实体集 A 中每一个实体，实体集 B 中有 n 个实体（n>=0）与之联系，反之，对于实体集 B 中每一个实体，实体集 A 中有 n 个实体（n>=0）与之联系。

   - 2）画图表示
     - 实体用`矩形`，属性用`椭圆形`，联系用`菱形`

5. 逻辑层数据模型

   - 逻辑层是数据抽象的中间层，描述数据整体的逻辑结构。这一层的数据抽象称为逻辑层数据模型，也称为数据的逻辑模型。
   - 它是用户通过数据库管理系统看到的现实世界，是基于计算机系统的观点来对数据进行建模和表示。
   - 主要的逻辑数据模型有：
     - 层次模型
     - 网状模型
     - 关系模型
       - 关系模型的优点
     - 面向对象模型

6. 物理层数据模型

   - 物理层数据模型，也称数据的物理模型，其描述数据在存储介质上的组织结构，是逻辑模型的物理实现。

7. 概念模型、逻辑模型、物理模型关系
   - 从现实世界到概念模型的转换，是由`数据库设计人员`完成；
   - 从概念模型到逻辑模型的转换，是由`数据库设计人员`，也可以由`数据库设计工具`协助设计人员完成；
   - 从逻辑模型到物理模型的转换，是由`数据库管理系统`完成。

## 思考与练习

- 选择题（pdf-50）

1. 下列描述中，不属于数据库系统特点的是``
2. 在数据库系统中，描述全部数据的整体逻辑结构的是``
3. 下列数据模型中，采用二维表格结构来表示实体与实体之间联系的模型是``

- 简答题

1.  请简述数据、数据库、数据库管理系统、数据库系统的概念

    - （1）数据（Data）：是描述事物的记录符号，是指用物理符号记录下来的，可以鉴别的信息。
      （2）数据库（Database, DB）：即存储数据的仓库，严格意义上是指长期存储在计算机中的有组织的、可共享的数据集合。  
      （3）数据库管理系统（Database Management System, DBMS）：是专门用于建立和管理数据库的一套软件，介于应用程序和操作系统之间。  
      （4）数据库系统（Database System，DBS）：是指在计算机中引入数据库技术之后的系统，包括数据库、数据库管理系统及相关实用工具、应用程序、数据库管理员和用户。

2.  请简述在数据管理技术中，与人工管理、文件系统相比，数据库系统的优点。

    - 1）数据集成
    - 2）数据共享性高
    - 3）数据冗余小
    - 4）数据一致性
    - 5）数据独立性高
    - 6）实施统一管理与控制
    - 7）减少应用程序开发与维护的工作量

3.  请简述数据库系统的三级模式和两层映像的含义。

    - （1）数据库的三级模式：是指数据库系统是由模式、外模式和内模式三级构成的，对应了数据的三级抽象。
      （2）两层映像：是指三级模式之间的映像关系，即外模式/模式映像和模式/内模式映像。

4.  请简述关系模型与网状模型、层次模型的区别。

    - 关系模型是用二维表结构来表示实体与实体间的联系的模型，并以二维表格的形式组织数据库中的数据。
      - （1）使用二维表结构表示实体及实体间的联系。
        （2）建立在严格的数学概念的基础上。
        （3）概念单一，统一用关系表示实体和实体之间的联系，数据结构简单清晰，用户易懂易用。
        （4）存取路径对用户透明，具有更高的数据独立性、更好的安全保密性。
    - 网状模型以网状结构表示实体与实体之间的联系。
    - 层次模型是数据库系统最早使用的一种数据模型，它的数据结构是一颗“有向树”，树的每个结点对应一个记录集，也就是现实世界的实体集。

## 百日题库-主观题

1. 【2018 年 10 月】简述关系模型的优点。

   - （1）关系模型是建立在严格的数学概念的基础之上的。
     （2）关系模型的概念单一，统一用关系来表示实体以及实体之间的联系，关系模型的数据结构简单、清晰，用户易懂、易用。
     （3）关系模型的存取路径对用户透明，从而具有更高的数据独立性、更好的安全保密性，也简化了程序员的工作和数据库开发建立的工作。

2. 【2019 年 10 月】简述数据模型的分类。

   - （1）概念层数据模型。
     （2）逻辑层数据模型。
     （3）物理层数据模型。

3. 【2020 年 08 月】简述数据库系统三级模式结构的特点。

   - （1）一个数据库的整体逻辑结构和特征的描述是独立于数据库其他层次结构的描述，其是数据库的核心，也是数据库设计的关键。
     （2）一个数据库的内部存储模式依赖于概念模式，但存储模式独立于外部模式，也独立于具体的存储设备。
     （3）用户逻辑模式是在全局逻辑结构描述的基础上定义的，它面向具体的应用程序，独立于内部模式和存储设备。
     （4）特定的应用程序是在外模式的逻辑结构上编写的，它依赖于特定的外模式，与数据库的模式和存储结构独立。
