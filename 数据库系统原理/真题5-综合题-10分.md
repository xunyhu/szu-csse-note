# 综合题（1 道大题，10 分）

- 考察：ER 图、关系模式、范式、SQL

# 第 2 章 关系数据库

- 【2018 年 10 月】设有关系模式 R(读者号，姓名，单位号，单位名，图书号，书名，借阅日期，还书目期)存储读者借阅图书等信息。如果规定：每个读者只属于一个单位；每个读者可以借阅多本图书，每本图书也可以被多名读者借阅，每个读者也可以对某本图书多次借阅，但每个读者每本图书每天最多借一次。

  - 1.根据上述条件，写出模式 R 的关键字。（2 分）
    - 读者号，图书号，借阅日期
  - 2.R 最高属于第几范式，为什么？（2 分）
    - R∈1NF，因为存在非主属性对码的部分函数依赖。
  - 3.举例说明 R 在何种情况下会发生删除异常。（2 分）
    - 删除读者借阅图书信息时有可能把读者的基本信息也删除了。
  - 4.将 R 规范到 3NF。（4 分）
    - R1（读者号，姓名，单位号）
      R2（单位号，单位名）
      R3（图书号，书名）
      R4（读者号，图书号，借阅日期，还书日期）

- 【2020 年 08 月】设有关系模式 R（商品号，商品名，类号，类名，商店号，商店名，销售日期，售价）存储商店销售商品等信息。如果规定：每个商品只属于一个类别：每个商店可以销售多种商品，每种商品也可以在多个商店销售，同种商品可以有不同的售价，但每个商店的每种商品每天只能有一个售价。
  - 1.根据上述条件，写出模式 R 的关键字。（2 分）
    - 商品号，商店号，销售日期
  - 2.R 最高属于第几范式，为什么？（3 分）
    - R∈1NF，因为存在非主属性对码的部分函数依赖。
  - 3.举例说明 R 在何种情况下会发生删除异常。（2 分）
    - 删除销售信息时有可能把商品的基本信息也删除了。
  - 4.将 R 规范到 3NF。（3 分）
    - R1（商品号，商品名，类号）
      R2（类号，类名）
      R3（商店号，商店名）
      R4（商品号，商店号，销售日期，售价）
